---
import RelatedServicesCard, {
  type Props as RelatedServicesCardProps,
} from '@elements/RelatedServicesCard.astro'
import SliderBullets from '@elements/SliderBullets.astro'
import SliderButton from '@elements/SliderButton.astro'

export interface Props {
  class?: string
  heading?: string
  catalog?: Array<RelatedServicesCardProps>
}

const {
  class: className,
  heading = 'Сопутствующие услуги',
  catalog = [
    {
      href: '/',
      name: 'Заборы жалюзи',
      image: { src: '/images/catalog-item.png' },
    },
    {
      href: '/',
      name: 'Откатные ворота',
      image: { src: '/images/catalog-item.png' },
    },
    {
      href: '/',
      name: 'Винтовые сваи',
      image: { src: '/images/catalog-item.png' },
    },
    {
      href: '/',
      name: 'Калитки',
      image: { src: '/images/catalog-item.png' },
    },
    {
      href: '/',
      name: 'Заборы жалюзи',
      image: { src: '/images/catalog-item.png' },
    },
    {
      href: '/',
      name: 'Откатные ворота',
      image: { src: '/images/catalog-item.png' },
    },
    {
      href: '/',
      name: 'Винтовые сваи',
      image: { src: '/images/catalog-item.png' },
    },
    {
      href: '/',
      name: 'Калитки',
      image: { src: '/images/catalog-item.png' },
    },
  ],
  ...rest
} = Astro.props
---

<!-- BLOCK -->
<section
  {...rest}
  class:list={[className, 'related-services bullets-padding']}
>
  <h2
    set:html={heading}
    class="related-services__heading f-d-title-medium-42 f-m-title-medium-24"
  />

  <e-scroll class="related-services__slider bullets">
    {
      catalog.map((item) => {
        return (
          <RelatedServicesCard
            class="related-services__slider__item"
            {...item}
          />
        )
      })
    }
    <SliderButton
      type={'prev'}
      center
    />
    <SliderButton
      type={'next'}
      center
    />
    <SliderBullets />
  </e-scroll>
</section>

<style is:global>
  .related-services {
    padding: var(--section-vertical-padding) var(--screen-horisontal-padding);
  }

  .related-services__heading {
    margin-bottom: 7.8rem;

    @media (max-width: 768px) {
      margin-bottom: 4.3rem;
    }
  }

  .related-services__slider {
    --axis: x;
    --gap: 5rem;
    --overflow: hidden;
    --sectional: true;
    --sections-in-view: 4;
    --auto-size: true;
    --slider-button-color: var(--color-grayscale-300);

    display: flex;
    gap: var(--gap);

    @media (max-width: 768px) {
      --overflow: unset;
      --gap: 2rem;
      --sections-in-view: 1.6;
    }
  }

  .related-services__slider__item {
  }
</style>
