---
import type { ImageDataProps } from '@elements/Image.astro'
import Image from '@elements/Image.astro'
import Button from '@elements/Button.astro'
import TitleValueStat, {
  type Props as TitleValueStatProps,
} from '@elements/TitleValueStat.astro'

export interface Props {
  class?: string
  heading?: string
  description?: string
  image?: ImageDataProps
  stats?: Array<TitleValueStatProps>
}

const {
  class: className,
  heading = '<b>Заборы под ключ</b> установка заборов любой&nbsp;сложности',
  description = `
    Строим заборы из деревянного и металлического штакетника, профлиста, сетки-рабицы, кирпича. Устанавливаем механические и автоматические ворота, строим бетонные фундаменты для заборов, устанавливаем кирпичные столбы.
    <br><br>
    За время работы в сфере производства и строительства мы накопили солидный опыт и со 100% уверенностью готова заявить, что знаем о заборах все. Собственное производство позволяет нам держать уровень цен на приемлемом уровне.
  `,
  image = { src: '/images/turnkey-fences/image.jpg' },
  stats = [
    {
      title: 'В производстве и строительстве',
      value: 'более 15 лет',
    },
    {
      title: 'Среднее время изготовления',
      value: '7-14 дней',
    },
    {
      title: 'Заказов реализуем ежемесячно',
      value: '550+ заказов',
    },
    {
      title: 'Довольных клиентов',
      value: '9 000+ клиентов',
    },
  ],
  ...rest
} = Astro.props
---

<!-- BLOCK -->
<section
  {...rest}
  class:list={[className, 'turnkey-fences']}
>
  <div class="turnkey-fences__top">
    <Image
      class="turnkey-fences__image"
      {...image}
      lazy
      lazyBackground
      cover
    />
    <div class="turnkey-fences__main">
      <h2
        class="turnkey-fences__heading two-color-heading f-d-title-medium-56 f-m-title-medium-24"
        set:html={heading}
      />
      <p
        class="turnkey-fences__description f-d-body-large-regular-16 f-m-body-basic-regular-14"
        set:html={description}
      />
      <Button
        name="Подробнее о компании"
        href="/"
      />
    </div>
  </div>
  <e-scroll class="turnkey-fences__stats">
    {
      stats.map((stat) => {
        return (
          <div class="turnkey-fences__stats__item">
            <TitleValueStat {...stat} />
          </div>
        )
      })
    }
  </e-scroll>
</section>

<style is:global>
  .turnkey-fences {
    padding: var(--section-vertical-padding-full)
      var(--screen-horisontal-padding);
  }

  .turnkey-fences__top {
    display: flex;
    gap: 5rem;

    margin-bottom: 5rem;

    @media (max-width: 768px) {
      gap: 2rem;
      flex-direction: column;

      margin-bottom: 2rem;
    }
  }

  .turnkey-fences__image {
    flex-shrink: 0;

    width: 72.5rem;
    height: 56.2rem;

    border-radius: var(--border-radius);

    @media (max-width: 768px) {
      width: 100%;
      height: 23.5rem;
    }
  }

  .turnkey-fences__main {
    padding: 5rem;

    background-color: var(--color-grayscale-0);
    border-radius: var(--border-radius);

    @media (max-width: 768px) {
      padding: 2rem;
    }
  }

  .turnkey-fences__heading {
    margin-bottom: 7.1rem;

    @media (max-width: 768px) {
      margin-bottom: 2rem;
    }
  }

  .turnkey-fences__description {
    color: var(--color-grayscale-400);

    margin-bottom: 2.2rem;

    @media (max-width: 768px) {
      margin-bottom: 4rem;
    }
  }

  .turnkey-fences__stats {
    @media (min-width: 769px) {
      --hibernate: true;

      display: grid;
      grid-template-columns: repeat(4, 1fr);
      flex-wrap: wrap;
      gap: 5.1rem;
    }

    @media (max-width: 768px) {
      --axis: x;
      --gap: 2rem;

      display: flex;
      gap: var(--gap);
    }
  }

  .turnkey-fences__stats__item {
    padding: 3rem;
    border-radius: var(--border-radius);

    background-color: var(--color-grayscale-0);

    .title-value-stat__value {
      color: var(--color-primary-100);
    }

    .title-value-stat__title {
      color: var(--color-grayscale-400);
    }

    @media (max-width: 768px) {
      width: 26rem;
      padding: 2rem;
    }
  }
</style>
