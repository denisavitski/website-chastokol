---
import type { ImageDataProps } from '@elements/Image.astro'
import Image from '@elements/Image.astro'
import Button from '@elements/Button.astro'
import TitleValueStat, {
  type Props as TitleValueStatProps,
} from '@elements/TitleValueStat.astro'
import TwoSides from '@elements/TwoSides.astro'

export interface Props {
  class?: string
  heading?: string
  description?: string
  image?: ImageDataProps
  stats?: Array<TitleValueStatProps>
}

const {
  class: className,
  heading = '<b>Заборы под ключ</b> установка заборов любой&nbsp;сложности',
  description = `
    Строим заборы из деревянного и металлического штакетника, профлиста, сетки-рабицы, кирпича. Устанавливаем механические и автоматические ворота, строим бетонные фундаменты для заборов, устанавливаем кирпичные столбы.
    <br><br>
    За время работы в сфере производства и строительства мы накопили солидный опыт и со 100% уверенностью готова заявить, что знаем о заборах все. Собственное производство позволяет нам держать уровень цен на приемлемом уровне.
  `,
  image = { src: '/images/turnkey-fences/image.jpg' },
  stats = [
    {
      title: 'В производстве и строительстве',
      value: 'более 15 лет',
    },
    {
      title: 'Среднее время изготовления',
      value: '7-14 дней',
    },
    {
      title: 'Заказов реализуем ежемесячно',
      value: '550+ заказов',
    },
    {
      title: 'Довольных клиентов',
      value: '9 000+ клиентов',
    },
  ],
  ...rest
} = Astro.props
---

<!-- BLOCK -->
<section
  {...rest}
  class:list={[className, 'turnkey-fences']}
>
  <TwoSides class="turnkey-fences__top">
    <Image
      class="two-sides__cover"
      {...image}
      lazy
      lazyBackground
      cover
      slot={'left'}
    />
    <div
      class="turnkey-fences__main"
      slot={'right'}
    >
      <h2
        class="turnkey-fences__heading two-color-heading f-d-title-medium-56 f-m-title-medium-24"
        set:html={heading}
      />
      <p
        class="turnkey-fences__description f-d-body-large-regular-16 f-m-body-basic-regular-14"
        set:html={description}
      />
      <Button
        name="Подробнее о компании"
        href="/about"
      />
    </div>
  </TwoSides>
  <div class="turnkey-fences__stats hidden-scrollbar">
    <div class="turnkey-fences__stats__inner">
      {
        stats.map((stat) => {
          return (
            <div class="turnkey-fences__stats__item">
              <TitleValueStat {...stat} />
            </div>
          )
        })
      }
    </div>
  </div>
</section>

<style is:global>
  .turnkey-fences {
    padding: var(--section-vertical-padding-full)
      var(--screen-horisontal-padding);
  }

  .turnkey-fences__top {
    margin-bottom: 5rem;

    @media (max-width: 768px) {
      --left-height: 23.5rem;
      margin-bottom: 2rem;
    }
  }

  .turnkey-fences__main {
  }

  .turnkey-fences__heading {
    margin-bottom: 3rem;

    @media (max-width: 768px) {
      margin-bottom: 2rem;
    }
  }

  .turnkey-fences__description {
    color: var(--color-grayscale-400);

    margin-bottom: 6.3rem;

    @media (max-width: 768px) {
      margin-bottom: 4rem;
    }
  }

  .turnkey-fences__stats {
    @media (max-width: 768px) {
      margin-left: calc(var(--screen-horisontal-padding) * -1);
      width: calc(100% + var(--screen-horisontal-padding) * 2);
      padding: 0 var(--screen-horisontal-padding);
      overflow: auto hidden;
    }
  }

  .turnkey-fences__stats__inner {
    width: 100%;

    display: flex;
    gap: 5.1rem;

    @media (min-width: 769px) {
      flex-wrap: wrap;
    }

    @media (max-width: 768px) {
      width: max-content;
      gap: 2rem;
    }
  }

  .turnkey-fences__stats__item {
    flex: 1;

    padding: 3rem;
    border-radius: var(--border-radius);

    background-color: var(--color-grayscale-0);

    .title-value-stat__value {
      color: var(--color-primary-100);
    }

    .title-value-stat__title {
      color: var(--color-grayscale-400);
    }

    @media (max-width: 768px) {
      width: 26rem;
      padding: 2rem;
    }
  }
</style>
