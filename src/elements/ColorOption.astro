---
export interface Props {
  class?: string
  color?: string
  id?: string
  name?: string
}

const {
  class: className,
  color = '#9B9B9B',
  id = 'RAL 7004',
  name = 'Серый',
  ...rest
} = Astro.props
---

<button
  {...rest}
  class:list={[className, 'color-option']}
  style={`--color: ${color}`}
  data-color={color}
  data-id={id}
  data-name={name}
  type="button"
>
  <span class="color-option__color"></span>
  <span class="color-option__content">
    <span
      class="color-option__id f-d-body-large-medium-16"
      set:html={id}
    />
    <span
      class="color-option__name f-d-body-basic-regular-14"
      set:html={name}
    />
  </span>
</button>

<style is:global>
  .color-option {
    text-align: start;

    @media (min-width: 769px) {
      position: relative;
      z-index: 1;

      display: flex;
      align-items: center;
      gap: 2rem;
      padding: 1.5rem;
      border-radius: var(--border-radius);
      background-color: transparent;

      transition-property: background-color;
      transition-duration: var(--duration-button);

      &.active {
        background-color: var(--color-grayscale-0);
      }
    }

    @media (max-width: 768px) {
      display: flex;
      align-items: center;
      justify-content: center;
    }
  }

  .color-option__color {
    position: relative;

    width: 5rem;
    height: 5rem;

    display: flex;
    align-items: center;
    justify-content: center;

    border-radius: 50%;

    &::after {
      content: '';

      width: 100%;
      height: 100%;

      background-color: var(--color, var(--color-grayscale-100));

      border-radius: 50%;

      @media (max-width: 768px) {
        width: 79%;
        height: 79%;
      }
    }

    @media (max-width: 768px) {
      width: 3.8rem;
      height: 3.8rem;

      border: 0.1rem solid transparent;

      .color-option.active & {
        border-color: var(--color-grayscale-300);
      }
    }
  }

  .color-option__content {
    @media (max-width: 768px) {
      display: none;
    }
  }

  .color-option__id {
    display: block;
    margin-bottom: 0.3rem;
  }

  .color-option__name {
    color: var(--color-grayscale-400);
  }
</style>
